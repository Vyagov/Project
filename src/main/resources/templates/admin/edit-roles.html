<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:include="~{/fragments/head}"></th:block>

<body>
<div class="container" id="first">
    <div class="row justify-content-center">
        <div class="col-12">
            <div class="card pad">
                <th:block th:include="~{/fragments/nav}"></th:block>

                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-12">
                            <h4 class="h-pages">User roles page</h4>
                            <hr>
                        </div>
                    </div>
                    <form th:action="@{/admin/user/role-save}" th:method="post">
                        <th:block th:object="${userForEdit}">
                            <table style="text-align: center;" class="table table-striped table-inverse table-responsive">
                                <tbody>
                                <tr>
                                    <td>Username</td>
                                    <td>Roles</td>
                                    <td>New Roles</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>
                                        <span class="user-tag" th:text="*{username}"></span>
                                    </td>

                                    <td>
                                        <span class="user-role-tag" th:text="${role.getAuthority()}"
                                              th:each="role : ${userForEdit.getAuthorities()}">
                                        </span>
                                    </td>
                                    <td>
                                        <label for="roleAdmin" class="user-role-tag">Admin Role</label>
                                        <input type="checkbox" name="roleAdmin" id="roleAdmin" value="1" />
                                    </td>
                                    <td>
                                        <input type="hidden" name="userId" th:value="${userForEdit.getId()}"/>
                                    </td>
                                    <td><button class="bbs-1" type="submit">Save</button></td>
                                </tr>
                                </tbody>
                            </table>
                        </th:block>
                    </form>
                </div>

                <th:block th:include="~{/fragments/footer}"></th:block>
            </div>
        </div>
    </div>
</div>
<th:block th:include="~{/fragments/js-files}"></th:block>
</body>
</html>